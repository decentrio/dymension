version: "4"

services:
  dymension1:
    image: dymension:local
    build:
      context: ../..
      dockerfile: ./tests/localdymension/Dockerfile
      args:
        RUNNER_IMAGE: alpine:3.16
        GO_VERSION: "1.19"
    volumes:
      - ./v1/:/dymension/localnet/v1/
    command: dymd start --home v1 --x-crisis-skip-assert-invariants
    ports:
      - 2101:26657
      - 2104:1317
      - 2102:9090
      - 2103:9091
      - 2105:6060
      - 2106:9092
      - 2100:26656

  dymension2:
    image: dymension:local
    build:
      context: ../..
      dockerfile: ./tests/localdymension/Dockerfile
      args:
        RUNNER_IMAGE: alpine:3.16
        GO_VERSION: "1.19"
    volumes:
      - ./v2/:/dymension/localnet/v2/
    command: dymd start --home v2 --x-crisis-skip-assert-invariants
    ports:
      - 2201:26657
      - 2204:1317
      - 2202:9090
      - 2203:9091
      - 2205:6060
      - 2206:9092
      - 2200:26656

  dymension3:
    image: dymension:local
    build:
      context: ../..
      dockerfile: ./tests/localdymension/Dockerfile
      args:
        RUNNER_IMAGE: alpine:3.16
        GO_VERSION: "1.19"
    volumes:
      - ./v3/:/dymension/localnet/v3/
    command: dymd start --home v3 --x-crisis-skip-assert-invariants
    ports:
      - 2301:26657
      - 2304:1317
      - 2302:9090
      - 2303:9091
      - 2305:6060
      - 2306:9092
      - 2300:26656
  
  dymension4:
    image: dymension:local
    build:
      context: ../..
      dockerfile: ./tests/localdymension/Dockerfile
      args:
        RUNNER_IMAGE: alpine:3.16
        GO_VERSION: "1.19"
    volumes:
      - ./v4/:/dymension/localnet/v4/
    command: dymd start --home v4 --x-crisis-skip-assert-invariants
    ports:
      - 2401:26657
      - 2404:1317
      - 2402:9090
      - 2403:9091
      - 2405:6060
      - 2406:9092
      - 2400:26656